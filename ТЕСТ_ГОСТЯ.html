<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç –≥–æ—Å—Ç–µ–≤–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .test-box {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        h1 {
            color: #333;
        }
        .status {
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
            font-weight: bold;
        }
        .success {
            background: #d4edda;
            color: #155724;
        }
        .info {
            background: #d1ecf1;
            color: #0c5460;
        }
        button {
            padding: 10px 20px;
            font-size: 16px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        .btn-primary {
            background: #007bff;
            color: white;
        }
        .btn-success {
            background: #28a745;
            color: white;
        }
        .btn-danger {
            background: #dc3545;
            color: white;
        }
    </style>
</head>
<body>
    <div class="test-box">
        <h1>üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Å—Ç–µ–≤–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞</h1>
        
        <div class="status" id="authStatus">
            –ü—Ä–æ–≤–µ—Ä–∫–∞...
        </div>
        
        <h3>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ–∫—É—â–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏:</h3>
        <div id="info"></div>
        
        <h3>–î–µ–π—Å—Ç–≤–∏—è:</h3>
        <button class="btn-primary" onclick="openMainSite()">üåê –û—Ç–∫—Ä—ã—Ç—å –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É (index.html)</button>
        <button class="btn-success" onclick="openAuthPage()">üîë –û—Ç–∫—Ä—ã—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞ (auth.html)</button>
        <button class="btn-danger" onclick="clearSession()">üßπ –û—á–∏—Å—Ç–∏—Ç—å —Å–µ—Å—Å–∏—é (–≤—ã–π—Ç–∏)</button>
    </div>

    <div class="test-box">
        <h2>üìã –ß—Ç–æ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –¥–ª—è –≥–æ—Å—Ç—è:</h2>
        <ul>
            <li>‚úÖ –û—Ç–∫—Ä—ã—Ç–∏–µ index.html –±–µ–∑ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è</li>
            <li>‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –∫–∞—Ç–∞–ª–æ–≥–æ–≤ (–ù–æ–≤—ã–µ –∑–∞–ø—á–∞—Å—Ç–∏, –ë/–£ –∑–∞–ø—á–∞—Å—Ç–∏, –ë/–£ —Ç–µ—Ö–Ω–∏–∫–∞)</li>
            <li>‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–æ–∏—Å–∫–∞</li>
            <li>‚úÖ –ù–∞–∂–∞—Ç–∏–µ –Ω–∞ —Ç–æ–≤–∞—Ä—ã –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞</li>
            <li>‚úÖ –ö–Ω–æ–ø–∫–∞ "üîë –í–æ–π—Ç–∏" –≤–º–µ—Å—Ç–æ –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</li>
            <li>‚ùå –ö–Ω–æ–ø–∫–∞ "–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä" –°–ö–†–´–¢–ê</li>
            <li>‚ùå –ö–Ω–æ–ø–∫–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è/—É–¥–∞–ª–µ–Ω–∏—è –°–ö–†–´–¢–´</li>
            <li>‚ùå –ö–æ–Ω—Ç–∞–∫—Ç—ã –ø—Ä–æ–¥–∞–≤—Ü–æ–≤ –°–ö–†–´–¢–´</li>
        </ul>
        
        <h2>üìã –ß—Ç–æ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ:</h2>
        <ul>
            <li>‚úÖ –í—Å–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≥–æ—Å—Ç—è +</li>
            <li>‚úÖ –ö–Ω–æ–ø–∫–∞ "–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä" –í–ò–î–ù–ê</li>
            <li>‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–ª—è—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏—è</li>
            <li>‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏—è</li>
            <li>‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–¥–∞–ª—è—Ç—å —Å–≤–æ–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏—è</li>
            <li>‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ –ø—Ä–æ–¥–∞–≤—Ü–æ–≤</li>
            <li>‚úÖ –î–æ—Å—Ç—É–ø –∫ –ª–∏—á–Ω–æ–º—É –∫–∞–±–∏–Ω–µ—Ç—É</li>
        </ul>
    </div>

    <script>
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–∏
        function checkCurrentSession() {
            const session = localStorage.getItem('currentSession');
            const statusDiv = document.getElementById('authStatus');
            const infoDiv = document.getElementById('info');
            
            if (!session) {
                statusDiv.className = 'status success';
                statusDiv.innerHTML = '‚úÖ –í—ã –ù–ï –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã (—Ä–µ–∂–∏–º –≥–æ—Å—Ç—è)';
                infoDiv.innerHTML = `
                    <p><strong>–°—Ç–∞—Ç—É—Å:</strong> –ì–æ—Å—Ç—å</p>
                    <p><strong>–°–µ—Å—Å–∏—è:</strong> –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç</p>
                    <p><strong>–î–æ—Å—Ç—É–ø:</strong> –¢–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–æ—Ç—Ä –∫–∞—Ç–∞–ª–æ–≥–∞</p>
                `;
            } else {
                try {
                    const user = JSON.parse(session);
                    statusDiv.className = 'status info';
                    statusDiv.innerHTML = 'üîê –í—ã –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã';
                    infoDiv.innerHTML = `
                        <p><strong>–°—Ç–∞—Ç—É—Å:</strong> –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</p>
                        <p><strong>–ò–º—è:</strong> ${user.username}</p>
                        <p><strong>–†–æ–ª—å:</strong> ${user.isAdmin ? '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä' : '–û–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å'}</p>
                        <p><strong>ID:</strong> ${user.userId}</p>
                    `;
                } catch (e) {
                    statusDiv.className = 'status success';
                    statusDiv.innerHTML = '‚ö†Ô∏è –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Å–µ—Å—Å–∏—è (–±—É–¥–µ—Ç–µ –∫–∞–∫ –≥–æ—Å—Ç—å)';
                    infoDiv.innerHTML = '<p>–°–µ—Å—Å–∏—è –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∞, –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Ä–µ–∂–∏–º –≥–æ—Å—Ç—è</p>';
                }
            }
        }
        
        function openMainSite() {
            window.location.href = 'index.html';
        }
        
        function openAuthPage() {
            window.location.href = 'auth.html';
        }
        
        function clearSession() {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –≤—ã–π—Ç–∏ –∏–∑ —Å–∏—Å—Ç–µ–º—ã?')) {
                localStorage.removeItem('currentSession');
                alert('‚úÖ –°–µ—Å—Å–∏—è –æ—á–∏—â–µ–Ω–∞! –¢–µ–ø–µ—Ä—å –≤—ã –≥–æ—Å—Ç—å.');
                checkCurrentSession();
            }
        }
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        checkCurrentSession();
    </script>
</body>
</html>

