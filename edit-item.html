<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è - –ö–∞—Ç–∞–ª–æ–≥ –∑–∞–ø—á–∞—Å—Ç–µ–π</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .edit-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        .edit-header {
            background: white;
            padding: 20px 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }

        .edit-form-section {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .section-title {
            font-size: 1.5em;
            color: #2c3e50;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #667eea;
        }

        .success-message {
            background: #d4edda;
            color: #155724;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: none;
            animation: slideIn 0.3s ease;
        }

        .error-message {
            background: #f8d7da;
            color: #721c24;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: none;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .current-image-section {
            margin-bottom: 20px;
        }

        .current-image-label {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 10px;
            display: block;
        }

        .current-image-preview {
            max-width: 300px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .no-image-text {
            color: #999;
            font-style: italic;
        }

        .change-image-checkbox {
            margin: 15px 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .change-image-checkbox input[type="checkbox"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .change-image-checkbox label {
            cursor: pointer;
            font-weight: 600;
        }

        .image-upload-section {
            display: none;
            margin-top: 15px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .btn-back {
            background: #6c757d;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            text-decoration: none;
            display: inline-block;
            transition: background 0.3s ease;
        }

        .btn-back:hover {
            background: #5a6268;
        }

        @media (max-width: 768px) {
            .edit-header {
                flex-direction: column;
                align-items: stretch;
            }
        }
    </style>
</head>
<body>
    <div class="edit-container">
        <!-- –®–∞–ø–∫–∞ -->
        <div class="edit-header">
            <h1>‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è</h1>
            <button class="btn-back" onclick="goBack()">‚Üê –û—Ç–º–µ–Ω–∞</button>
        </div>

        <!-- –§–æ—Ä–º–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
        <div class="edit-form-section">
            <h2 class="section-title">–ò–∑–º–µ–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ</h2>

            <div id="successMessage" class="success-message"></div>
            <div id="errorMessage" class="error-message"></div>

            <form id="editForm" onsubmit="handleSubmit(event)">
                <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏—è —Ç–µ—Ö–Ω–∏–∫–∏ -->
                <div class="form-group">
                    <label for="itemApplianceType">–ö–∞—Ç–µ–≥–æ—Ä–∏—è —Ç–µ—Ö–Ω–∏–∫–∏: <span style="color: red;">*</span></label>
                    <select id="itemApplianceType" required>
                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é —Ç–µ—Ö–Ω–∏–∫–∏</option>
                        <option value="–≤–∞—Ä–æ—á–Ω—ã–µ –ø–∞–Ω–µ–ª–∏">–í–∞—Ä–æ—á–Ω—ã–µ –ø–∞–Ω–µ–ª–∏</option>
                        <option value="–¥—É—Ö–æ–≤—ã–µ —à–∫–∞—Ñ—ã">–î—É—Ö–æ–≤—ã–µ —à–∫–∞—Ñ—ã</option>
                        <option value="–∫–æ—Ñ–µ–º–∞—à–∏–Ω—ã">–ö–æ—Ñ–µ–º–∞—à–∏–Ω—ã</option>
                        <option value="–∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä—ã">–ö–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä—ã</option>
                        <option value="–ø–æ—Å—É–¥–æ–º–æ–µ—á–Ω–∞—è –º–∞—à–∏–Ω–∞">–ü–æ—Å—É–¥–æ–º–æ–µ—á–Ω–∞—è –º–∞—à–∏–Ω–∞</option>
                        <option value="—Å—Ç–∏—Ä–∞–ª—å–Ω—ã–µ –º–∞—à–∏–Ω—ã">–°—Ç–∏—Ä–∞–ª—å–Ω—ã–µ –º–∞—à–∏–Ω—ã</option>
                        <option value="—Ç–µ–ª–µ–≤–∏–∑–æ—Ä—ã">–¢–µ–ª–µ–≤–∏–∑–æ—Ä—ã</option>
                        <option value="—Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–∏">–•–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–∏</option>
                        <option value="–¥—Ä—É–≥–∞—è —Ç–µ—Ö–Ω–∏–∫–∞">–ò –¥—Ä—É–≥–∞—è —Ç–µ—Ö–Ω–∏–∫–∞</option>
                    </select>
                </div>

                <!-- –ù–∞–∑–≤–∞–Ω–∏–µ -->
                <div class="form-group">
                    <label for="itemName">–ù–∞–∑–≤–∞–Ω–∏–µ *</label>
                    <input type="text" id="itemName" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –î–≤–∏–≥–∞—Ç–µ–ª—å –¥–ª—è —Å—Ç–∏—Ä–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã LG">
                </div>

                <!-- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ -->
                <div class="form-group">
                    <label for="itemQuantity">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ *</label>
                    <input type="number" id="itemQuantity" required min="0" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 5">
                </div>

                <!-- –¶–µ–Ω–∞ -->
                <div class="form-group">
                    <label for="itemPrice">–¶–µ–Ω–∞ (Br) *</label>
                    <input type="number" id="itemPrice" required min="0" step="0.01" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 150.00">
                </div>

                <!-- –ö–æ–Ω—Ç–∞–∫—Ç -->
                <div class="form-group">
                    <label for="itemPhone">–ö–æ–Ω—Ç–∞–∫—Ç (—Ç–µ–ª–µ—Ñ–æ–Ω –∏–ª–∏ email):</label>
                    <input type="text" id="itemPhone" placeholder="+375 (XX) XXX-XX-XX –∏–ª–∏ example@email.com">
                    <small style="color: #666; font-size: 0.85em; display: block; margin-top: 5px;">–£–∫–∞–∂–∏—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –∏–ª–∏ –∞–¥—Ä–µ—Å —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç—ã –¥–ª—è —Å–≤—è–∑–∏ –ø–æ —ç—Ç–æ–º—É –æ–±—ä—è–≤–ª–µ–Ω–∏—é</small>
                </div>

                <!-- –û–ø–∏—Å–∞–Ω–∏–µ -->
                <div class="form-group">
                    <label for="itemDescription">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                    <textarea id="itemDescription" rows="4" placeholder="–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)"></textarea>
                </div>

                <!-- –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ -->
                <div class="form-group">
                    <label for="itemCharacteristics">–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏</label>
                    <textarea id="itemCharacteristics" rows="4" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ú–æ—â–Ω–æ—Å—Ç—å: 800W&#10;–ù–∞–ø—Ä—è–∂–µ–Ω–∏–µ: 220V&#10;–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å: LG (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)"></textarea>
                </div>

                <!-- –¢–µ–∫—É—â–µ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ -->
                <div class="current-image-section">
                    <span class="current-image-label">–¢–µ–∫—É—â–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:</span>
                    <div id="currentImageContainer"></div>
                </div>

                <!-- –ß–µ–∫–±–æ–∫—Å –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π -->
                <div class="change-image-checkbox">
                    <input type="checkbox" id="changeImageCheckbox" onchange="toggleImageUpload()">
                    <label for="changeImageCheckbox">–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</label>
                </div>

                <!-- –°–µ–∫—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (—Å–∫—Ä—ã—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
                <div class="image-upload-section" id="imageUploadSection">
                    <div class="form-group">
                        <label for="newImage">–ù–æ–≤—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ)</label>
                        <div class="image-upload-buttons">
                            <input type="file" id="newImage" accept="image/*" multiple onchange="handleImageUpload(event)">
                            <button type="button" class="btn-photo" onclick="openCameraForEdit()">üì∑ –°–¥–µ–ª–∞—Ç—å —Ñ–æ—Ç–æ</button>
                        </div>
                    </div>

                    <!-- –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –Ω–æ–≤—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π -->
                    <div id="newImagePreview" style="display: none; margin-top: 15px;">
                        <span class="current-image-label">–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –Ω–æ–≤—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:</span>
                        <div id="newImagesGrid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 10px; margin-top: 10px;"></div>
                        <button type="button" onclick="removeAllNewImages()" style="margin-top: 10px; padding: 8px 15px; background: #dc3545; color: white; border: none; border-radius: 6px; cursor: pointer;">–£–¥–∞–ª–∏—Ç—å –≤—Å–µ –Ω–æ–≤—ã–µ —Ñ–æ—Ç–æ</button>
                    </div>
                </div>

                <!-- –ö–Ω–æ–ø–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è -->
                <button type="submit" class="btn-add" style="width: 100%; margin-top: 20px;">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
            </form>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∫–∞–º–µ—Ä—ã -->
    <div id="cameraModal" class="modal" style="display: none;">
        <div class="camera-modal-content">
            <h3>üì∑ –°–¥–µ–ª–∞—Ç—å —Ñ–æ—Ç–æ</h3>
            <video id="cameraVideo" autoplay playsinline></video>
            <canvas id="cameraCanvas" style="display: none;"></canvas>
            <div class="camera-controls">
                <button class="btn-camera-action" onclick="capturePhotoForEdit()">üì∏ –°—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—Ä–æ–≤–∞—Ç—å</button>
                <button class="btn-camera-cancel" onclick="closeCameraModal()">–û—Ç–º–µ–Ω–∞</button>
            </div>
            <div id="cameraError" class="camera-error" style="display: none;"></div>
        </div>
    </div>

    <script src="edit-item.js"></script>
</body>
</html>

